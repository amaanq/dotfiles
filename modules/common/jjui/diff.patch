diff --git a/internal/config/config.go b/internal/config/config.go
index 6c22f053c8..093cb515af 100644
--- a/internal/config/config.go
+++ b/internal/config/config.go
@@ -17,15 +17,16 @@
 var Current = loadDefaultConfig()
 
 type Config struct {
-	Keys      KeyMappings[keys] `toml:"keys"`
-	UI        UIConfig          `toml:"ui"`
-	Suggest   SuggestConfig     `toml:"suggest"`
-	Revisions RevisionsConfig   `toml:"revisions"`
-	Preview   PreviewConfig     `toml:"preview"`
-	OpLog     OpLogConfig       `toml:"oplog"`
-	Limit     int               `toml:"limit"`
-	Git       GitConfig         `toml:"git"`
-	Ssh       SshConfig         `toml:"ssh"`
+	Keys       KeyMappings[keys]  `toml:"keys"`
+	UI         UIConfig           `toml:"ui"`
+	Suggest    SuggestConfig      `toml:"suggest"`
+	Revisions  RevisionsConfig    `toml:"revisions"`
+	Preview    PreviewConfig      `toml:"preview"`
+	OpLog      OpLogConfig        `toml:"oplog"`
+	Limit      int                `toml:"limit"`
+	Git        GitConfig          `toml:"git"`
+	Ssh        SshConfig          `toml:"ssh"`
+	DiffEditor DiffEditorConfig   `toml:"diff_editor"`
 }
 
 type Color struct {
@@ -295,3 +296,79 @@
 type SshConfig struct {
 	HijackAskpass bool `toml:"hijack_askpass"`
 }
+
+// DiffEditorConfig configures available diff tools
+type DiffEditorConfig struct {
+	// Editors is a list of available diff editors for interactive operations (split, squash -i, etc.)
+	Editors []string `toml:"editors"`
+	// Tools is a list of available diff tools for viewing (jj show, jj diff preview)
+	Tools []string `toml:"tools"`
+	// selected is the currently selected index (runtime only, not persisted)
+	// -1 means use jj default, 0+ means use the tool at that index
+	selected int
+}
+
+// GetDiffEditors returns the list of available diff editors (for interactive operations)
+func GetDiffEditors(c *Config) []string {
+	if len(c.DiffEditor.Editors) == 0 {
+		// Default editors for interactive operations
+		return []string{":builtin", "meld", "kdiff3", "vimdiff"}
+	}
+	return c.DiffEditor.Editors
+}
+
+// GetDiffTools returns the list of available diff tools (for viewing)
+func GetDiffTools(c *Config) []string {
+	if len(c.DiffEditor.Tools) == 0 {
+		// Default tools for viewing diffs
+		return []string{":color-words", ":git", "delta", "difft"}
+	}
+	return c.DiffEditor.Tools
+}
+
+// GetCurrentDiffEditor returns the currently selected diff editor for interactive operations
+func GetCurrentDiffEditor(c *Config) string {
+	if c.DiffEditor.selected < 0 {
+		return ""
+	}
+	editors := GetDiffEditors(c)
+	if c.DiffEditor.selected < len(editors) {
+		return editors[c.DiffEditor.selected]
+	}
+	return ""
+}
+
+// GetCurrentDiffTool returns the currently selected diff tool for viewing
+func GetCurrentDiffTool(c *Config) string {
+	if c.DiffEditor.selected < 0 {
+		return ""
+	}
+	tools := GetDiffTools(c)
+	if c.DiffEditor.selected < len(tools) {
+		return tools[c.DiffEditor.selected]
+	}
+	return ""
+}
+
+// SetDiffEditorIndex sets the current diff tool/editor by index
+func (c *Config) SetDiffEditorIndex(index int) {
+	tools := GetDiffTools(c)
+	if index >= -1 && index < len(tools) {
+		c.DiffEditor.selected = index
+	}
+}
+
+// CycleDiffEditor cycles to the next diff tool/editor and returns the tool name
+func (c *Config) CycleDiffEditor() string {
+	tools := GetDiffTools(c)
+	if len(tools) == 0 {
+		return ""
+	}
+	// Start from -1 (jj default), then cycle through tools, then back to -1
+	c.DiffEditor.selected++
+	if c.DiffEditor.selected >= len(tools) {
+		c.DiffEditor.selected = -1
+		return "(jj default)"
+	}
+	return tools[c.DiffEditor.selected]
+}
diff --git a/internal/config/default/config.toml b/internal/config/default/config.toml
index b69536ae68..c1c8a44745 100644
--- a/internal/config/default/config.toml
+++ b/internal/config/default/config.toml
@@ -38,6 +38,7 @@
   leader = ["\\"]
   suspend = ["ctrl+z"]
   set_parents = ["M"]
+  cycle_diff_editor = ["ctrl+e"]
   [keys.rebase]
     mode = ["r"]
     revision = ["r"]
@@ -139,10 +140,10 @@
   # revset = "zzzzzzz"               # overrides jj's revsets.log
 
 [preview]
-  revision_command = ["show", "--color", "always", "-r", "$change_id"]
-  evolog_command = ["show", "--color", "always", "-r", "$commit_id"]
+  revision_command = ["show", "--color", "always", "-r", "$change_id", "$diff_tool"]
+  evolog_command = ["show", "--color", "always", "-r", "$commit_id", "$diff_tool"]
   oplog_command = ["op", "show", "$operation_id", "--color", "always"]
-  file_command = ["diff", "--color", "always", "-r", "$change_id", "$file"]
+  file_command = ["diff", "--color", "always", "-r", "$change_id", "$file", "$diff_tool"]
   position = "auto"
   show_at_start = false
   width_percentage = 50.0
@@ -156,3 +157,11 @@
 
 [ssh]
   hijack_askpass = false
+
+[diff_editor]
+  # List of diff tools for viewing (jj show, jj diff preview)
+  # Empty list uses defaults: [":color-words", ":git", "delta", "difft"]
+  tools = []
+  # List of diff editors for interactive operations (split, squash -i, etc.)
+  # Empty list uses defaults: [":builtin", "meld", "kdiff3", "vimdiff"]
+  editors = []
diff --git a/internal/config/keys.go b/internal/config/keys.go
index 5102415671..597ec1fa47 100644
--- a/internal/config/keys.go
+++ b/internal/config/keys.go
@@ -48,6 +48,7 @@
 		Leader:           key.NewBinding(key.WithKeys(m.Leader...), key.WithHelp(JoinKeys(m.Leader), "leader")),
 		Suspend:          key.NewBinding(key.WithKeys(m.Suspend...), key.WithHelp(JoinKeys(m.Suspend), "suspend")),
 		SetParents:       key.NewBinding(key.WithKeys(m.SetParents...), key.WithHelp(JoinKeys(m.SetParents), "set parents")),
+		CycleDiffEditor:  key.NewBinding(key.WithKeys(m.CycleDiffEditor...), key.WithHelp(JoinKeys(m.CycleDiffEditor), "cycle diff editor")),
 		ExecJJ:           key.NewBinding(key.WithKeys(m.ExecJJ...), key.WithHelp(JoinKeys(m.ExecJJ), "interactive jj")),
 		ExecShell:        key.NewBinding(key.WithKeys(m.ExecShell...), key.WithHelp(JoinKeys(m.ExecShell), "interactive shell command")),
 		Revert: revertModeKeys[key.Binding]{
@@ -201,6 +202,7 @@
 	Leader            T                         `toml:"leader"`
 	Suspend           T                         `toml:"suspend"`
 	SetParents        T                         `toml:"set_parents"`
+	CycleDiffEditor   T                         `toml:"cycle_diff_editor"`
 	Revert            revertModeKeys[T]         `toml:"revert"`
 	Rebase            rebaseModeKeys[T]         `toml:"rebase"`
 	Duplicate         duplicateModeKeys[T]      `toml:"duplicate"`
diff --git a/internal/config/loader.go b/internal/config/loader.go
index 725f250791..006e35e326 100644
--- a/internal/config/loader.go
+++ b/internal/config/loader.go
@@ -70,6 +70,9 @@
 		return err
 	}
 
+	// Initialize diff editor selection to -1 (use jj default)
+	c.DiffEditor.selected = -1
+
 	return nil
 }
 
diff --git a/internal/jj/commands.go b/internal/jj/commands.go
index 6fcb52d6e7..940c38925b 100644
--- a/internal/jj/commands.go
+++ b/internal/jj/commands.go
@@ -15,6 +15,7 @@
 	OperationIdPlaceholder  = "$operation_id"
 	RevsetPlaceholder       = "$revset"
 	PreviewWidthPlaceholder = "$preview_width"
+	DiffToolPlaceholder     = "$diff_tool"
 
 	// user checked file names, separated by `\t` tab.
 	// tab is a lot less common than spaces on filenames,
@@ -82,8 +83,11 @@
 	return []string{"diffedit", "-r", changeId}
 }
 
-func Split(revision string, files []string, parallel bool) CommandArgs {
+func Split(revision string, files []string, parallel bool, diffEditor string) CommandArgs {
 	args := []string{"split", "-r", revision}
+	if diffEditor != "" {
+		args = append(args, "--config", fmt.Sprintf("ui.diff-editor=%s", diffEditor))
+	}
 	if parallel {
 		args = append(args, "--parallel")
 	}
@@ -142,8 +146,11 @@
 	return args
 }
 
-func RestoreInteractive(revision string, file string) CommandArgs {
+func RestoreInteractive(revision string, file string, diffEditor string) CommandArgs {
 	args := []string{"restore", "-c", revision, "--interactive"}
+	if diffEditor != "" {
+		args = append(args, "--config", fmt.Sprintf("ui.diff-editor=%s", diffEditor))
+	}
 	if file != "" {
 		args = append(args, EscapeFileName(file))
 	}
@@ -208,10 +215,13 @@
 	return args
 }
 
-func Squash(from SelectedRevisions, destination string, files []string, keepEmptied bool, useDestinationMessage bool, interactive bool, ignoreImmutable bool) CommandArgs {
+func Squash(from SelectedRevisions, destination string, files []string, keepEmptied bool, useDestinationMessage bool, interactive bool, ignoreImmutable bool, diffEditor string) CommandArgs {
 	args := []string{"squash"}
 	args = append(args, from.AsPrefixedArgs("--from")...)
 	args = append(args, "--into", destination)
+	if diffEditor != "" && interactive {
+		args = append(args, "--config", fmt.Sprintf("ui.diff-editor=%s", diffEditor))
+	}
 	if keepEmptied {
 		args = append(args, "--keep-emptied")
 	}
diff --git a/internal/ui/common/msgs.go b/internal/ui/common/msgs.go
index 6fff9af487..98b62a6c1b 100644
--- a/internal/ui/common/msgs.go
+++ b/internal/ui/common/msgs.go
@@ -17,7 +17,11 @@
 		SelectedRevision string
 		KeepSelections   bool
 	}
-	ShowDiffMsg              string
+	ShowDiffMsg struct {
+		Output   string
+		Revision string // optional: for refresh support
+		FileName string // optional: for refresh support
+	}
 	UpdateRevisionsFailedMsg struct {
 		Output string
 		Err    error
diff --git a/internal/ui/context/custom_run_command.go b/internal/ui/context/custom_run_command.go
index a3e6e7f67e..0c5b9c1932 100644
--- a/internal/ui/context/custom_run_command.go
+++ b/internal/ui/context/custom_run_command.go
@@ -50,7 +50,8 @@
 	case config.ShowOptionDiff:
 		return func() tea.Msg {
 			output, _ := ctx.RunCommandImmediate(jj.TemplatedArgs(c.Args, replacements))
-			return common.ShowDiffMsg(output)
+			// custom commands don't support cycling since they use custom templates
+			return common.ShowDiffMsg{Output: string(output)}
 		}
 	case config.ShowOptionInteractive:
 		return ctx.RunInteractiveCommand(jj.TemplatedArgs(c.Args, replacements), common.Refresh)
diff --git a/internal/ui/diff/diff.go b/internal/ui/diff/diff.go
index c146e6cc24..1673832891 100644
--- a/internal/ui/diff/diff.go
+++ b/internal/ui/diff/diff.go
@@ -1,29 +1,46 @@
 package diff
 
 import (
+	"fmt"
 	"strings"
 
 	"github.com/charmbracelet/bubbles/key"
 	"github.com/charmbracelet/bubbles/viewport"
 	tea "github.com/charmbracelet/bubbletea"
 	"github.com/idursun/jjui/internal/config"
+	"github.com/idursun/jjui/internal/jj"
 	"github.com/idursun/jjui/internal/ui/common"
+	"github.com/idursun/jjui/internal/ui/context"
+	"github.com/idursun/jjui/internal/ui/intents"
 	"github.com/idursun/jjui/internal/ui/layout"
 	"github.com/idursun/jjui/internal/ui/render"
 )
 
 var _ common.ImmediateModel = (*Model)(nil)
 
+// DiffSource represents the source of the diff content for refreshing
+type DiffSource struct {
+	Revision string
+	FileName string
+	Context  *context.MainContext
+}
+
 type Model struct {
 	view   viewport.Model
 	keymap config.KeyMappings[key.Binding]
+	source *DiffSource
 }
 
 func (m *Model) ShortHelp() []key.Binding {
 	vkm := m.view.KeyMap
-	return []key.Binding{
+	bindings := []key.Binding{
 		vkm.Up, vkm.Down, vkm.HalfPageDown, vkm.HalfPageUp, vkm.PageDown, vkm.PageUp,
-		m.keymap.Cancel}
+		m.keymap.Quit, m.keymap.Cancel,
+	}
+	if m.source != nil {
+		bindings = append(bindings, m.keymap.CycleDiffEditor)
+	}
+	return bindings
 }
 
 func (m *Model) FullHelp() [][]key.Binding {
@@ -62,9 +79,14 @@
 	switch msg := msg.(type) {
 	case tea.KeyMsg:
 		switch {
-		case key.Matches(msg, m.keymap.Cancel):
+		case key.Matches(msg, m.keymap.Cancel), key.Matches(msg, m.keymap.Quit):
 			return common.Close
+		case key.Matches(msg, m.keymap.CycleDiffEditor) && m.source != nil:
+			return m.cycleDiffTool()
 		}
+	case updateDiffContentMsg:
+		m.setContent(msg.Content)
+		return nil
 	case ScrollMsg:
 		if msg.Horizontal {
 			return nil
@@ -76,6 +98,45 @@
 	return cmd
 }
 
+func (m *Model) setContent(content string) {
+	content = strings.ReplaceAll(content, "\r", "")
+	if content == "" {
+		content = "(empty)"
+	}
+	m.view.SetContent(content)
+}
+
+func (m *Model) cycleDiffTool() tea.Cmd {
+	tool := config.Current.CycleDiffEditor()
+	return tea.Batch(
+		func() tea.Msg {
+			return intents.AddMessage{Text: fmt.Sprintf("Diff tool: %s", tool)}
+		},
+		m.refreshDiff(),
+	)
+}
+
+func (m *Model) refreshDiff() tea.Cmd {
+	if m.source == nil {
+		return nil
+	}
+	return func() tea.Msg {
+		diffTool := config.GetCurrentDiffTool(config.Current)
+		var args jj.CommandArgs
+		if diffTool != "" {
+			args = jj.Diff(m.source.Revision, m.source.FileName, "--config=ui.diff-formatter="+diffTool)
+		} else {
+			args = jj.Diff(m.source.Revision, m.source.FileName)
+		}
+		output, _ := m.source.Context.RunCommandImmediate(args)
+		return updateDiffContentMsg{Content: string(output)}
+	}
+}
+
+type updateDiffContentMsg struct {
+	Content string
+}
+
 func (m *Model) ViewRect(dl *render.DisplayContext, box layout.Box) {
 	m.view.Height = box.R.Dy()
 	m.view.Width = box.R.Dx()
@@ -83,7 +144,7 @@
 	dl.AddInteraction(box.R, ScrollMsg{}, render.InteractionScroll, 0)
 }
 
-func New(output string) *Model {
+func New(output string, source *DiffSource) *Model {
 	view := viewport.New(0, 0)
 	content := strings.ReplaceAll(output, "\r", "")
 	if content == "" {
@@ -93,5 +154,6 @@
 	return &Model{
 		view:   view,
 		keymap: config.Current.GetKeyMap(),
+		source: source,
 	}
 }
diff --git a/internal/ui/diff/diff_test.go b/internal/ui/diff/diff_test.go
index d12e6ec59f..8316d32a2d 100644
--- a/internal/ui/diff/diff_test.go
+++ b/internal/ui/diff/diff_test.go
@@ -11,16 +11,16 @@
 )
 
 func TestNew_TrimsCarriageReturnsAndHandlesEmpty(t *testing.T) {
-	model := New("line1\r\nline2\r\n")
+	model := New("line1\r\nline2\r\n", nil)
 	assert.Equal(t, "line1\nline2", test.Stripped(test.RenderImmediate(model, 20, 5)))
 
-	emptyModel := New("")
+	emptyModel := New("", nil)
 	assert.Equal(t, "(empty)", test.Stripped(test.RenderImmediate(emptyModel, 10, 3)))
 }
 
 func TestScroll_AdjustsViewportOffset(t *testing.T) {
 	content := "1\n2\n3\n4\n5\n"
-	model := New(content)
+	model := New(content, nil)
 
 	model.Scroll(2)
 	assert.Equal(t, 2, model.view.YOffset)
@@ -30,7 +30,7 @@
 }
 
 func TestUpdate_CancelReturnsClose(t *testing.T) {
-	model := New("content")
+	model := New("content", nil)
 	model.keymap.Cancel = key.NewBinding(key.WithKeys("q"))
 
 	var msgs []tea.Msg
diff --git a/internal/ui/operations/details/details.go b/internal/ui/operations/details/details.go
index 227b2584e5..40838f3258 100644
--- a/internal/ui/operations/details/details.go
+++ b/internal/ui/operations/details/details.go
@@ -190,9 +190,15 @@
 		if selected == nil {
 			return nil
 		}
+		changeId := s.revision.GetChangeId()
+		fileName := selected.fileName
 		return func() tea.Msg {
-			output, _ := s.context.RunCommandImmediate(jj.Diff(s.revision.GetChangeId(), selected.fileName))
-			return common.ShowDiffMsg(output)
+			output, _ := s.context.RunCommandImmediate(jj.Diff(changeId, fileName))
+			return common.ShowDiffMsg{
+				Output:   string(output),
+				Revision: changeId,
+				FileName: fileName,
+			}
 		}
 	case intents.DetailsSplit:
 		selectedFiles := s.getSelectedFiles(true)
@@ -202,7 +208,7 @@
 			[]string{"Are you sure you want to split the selected files?"},
 			confirmation.WithStylePrefix("revisions"),
 			confirmation.WithOption("Yes",
-				tea.Batch(s.context.RunInteractiveCommand(jj.Split(s.revision.GetChangeId(), selectedFiles, intent.IsParallel), common.Refresh), common.Close),
+				tea.Batch(s.context.RunInteractiveCommand(jj.Split(s.revision.GetChangeId(), selectedFiles, intent.IsParallel, config.GetCurrentDiffEditor(config.Current)), common.Refresh), common.Close),
 				key.NewBinding(key.WithKeys("y"), key.WithHelp("y", "yes"))),
 			confirmation.WithOption("No",
 				confirmation.Close,
@@ -229,7 +235,7 @@
 				s.context.RunCommand(jj.Restore(s.revision.GetChangeId(), selectedFiles), common.Refresh, confirmation.Close),
 				key.NewBinding(key.WithKeys("y"), key.WithHelp("y", "yes"))),
 			confirmation.WithOption("Interactive",
-				tea.Batch(s.context.RunInteractiveCommand(jj.RestoreInteractive(s.revision.GetChangeId(), selected.fileName), common.Refresh), common.Close),
+				tea.Batch(s.context.RunInteractiveCommand(jj.RestoreInteractive(s.revision.GetChangeId(), selected.fileName, config.GetCurrentDiffEditor(config.Current)), common.Refresh), common.Close),
 				key.NewBinding(key.WithKeys("i"), key.WithHelp("i", "interactive"))),
 			confirmation.WithOption("No",
 				confirmation.Close,
diff --git a/internal/ui/operations/details/details_test.go b/internal/ui/operations/details/details_test.go
index 86f3213a64..2136860c14 100644
--- a/internal/ui/operations/details/details_test.go
+++ b/internal/ui/operations/details/details_test.go
@@ -54,7 +54,7 @@
 	commandRunner := test.NewTestCommandRunner(t)
 	commandRunner.Expect(jj.Snapshot())
 	commandRunner.Expect(jj.Status(Revision)).SetOutput([]byte(StatusOutput))
-	commandRunner.Expect(jj.RestoreInteractive(Revision, "file.txt"))
+	commandRunner.Expect(jj.RestoreInteractive(Revision, "file.txt", ""))
 	defer commandRunner.Verify()
 
 	model := NewOperation(test.NewTestContext(commandRunner), Commit)
@@ -67,7 +67,7 @@
 	commandRunner := test.NewTestCommandRunner(t)
 	commandRunner.Expect(jj.Snapshot())
 	commandRunner.Expect(jj.Status(Revision)).SetOutput([]byte(StatusOutput))
-	commandRunner.Expect(jj.Split(Revision, []string{"file.txt"}, false))
+	commandRunner.Expect(jj.Split(Revision, []string{"file.txt"}, false, ""))
 	defer commandRunner.Verify()
 
 	model := NewOperation(test.NewTestContext(commandRunner), Commit)
@@ -83,7 +83,7 @@
 	commandRunner := test.NewTestCommandRunner(t)
 	commandRunner.Expect(jj.Snapshot())
 	commandRunner.Expect(jj.Status(Revision)).SetOutput([]byte(StatusOutput))
-	commandRunner.Expect(jj.Split(Revision, []string{"file.txt"}, true))
+	commandRunner.Expect(jj.Split(Revision, []string{"file.txt"}, true, ""))
 	defer commandRunner.Verify()
 
 	model := NewOperation(test.NewTestContext(commandRunner), Commit)
diff --git a/internal/ui/operations/evolog/evolog_operation.go b/internal/ui/operations/evolog/evolog_operation.go
index 482dc6bff6..4daf3ff422 100644
--- a/internal/ui/operations/evolog/evolog_operation.go
+++ b/internal/ui/operations/evolog/evolog_operation.go
@@ -180,10 +180,13 @@
 		if o.mode != selectMode {
 			return nil
 		}
+		selectedCommitId := o.getSelectedEvolog().CommitId
 		return func() tea.Msg {
-			selectedCommitId := o.getSelectedEvolog().CommitId
 			output, _ := o.context.RunCommandImmediate(jj.Diff(selectedCommitId, ""))
-			return common.ShowDiffMsg(output)
+			return common.ShowDiffMsg{
+				Output:   string(output),
+				Revision: selectedCommitId,
+			}
 		}
 	case intents.EvologRestore:
 		if o.mode != selectMode {
diff --git a/internal/ui/operations/squash/squash_operation.go b/internal/ui/operations/squash/squash_operation.go
index 62134f302d..4a3a81433c 100644
--- a/internal/ui/operations/squash/squash_operation.go
+++ b/internal/ui/operations/squash/squash_operation.go
@@ -92,7 +92,7 @@
 	case intents.StartAceJump:
 		return common.StartAceJump()
 	case intents.Apply:
-		args := jj.Squash(s.from, s.targetArg(), s.files, s.keepEmptied, s.useDestinationMessage, s.interactive, intent.Force)
+		args := jj.Squash(s.from, s.targetArg(), s.files, s.keepEmptied, s.useDestinationMessage, s.interactive, intent.Force, config.GetCurrentDiffEditor(config.Current))
 		continuation := common.RefreshAndSelect(s.current.GetChangeId())
 		if s.interactive || !s.useDestinationMessage {
 			return tea.Batch(common.Close, s.context.RunInteractiveCommand(args, continuation))
diff --git a/internal/ui/oplog/operation_log.go b/internal/ui/oplog/operation_log.go
index 096dc6f276..44b61e4d9c 100644
--- a/internal/ui/oplog/operation_log.go
+++ b/internal/ui/oplog/operation_log.go
@@ -209,7 +209,8 @@
 	}
 	return func() tea.Msg {
 		output, _ := m.context.RunCommandImmediate(jj.OpShow(opId))
-		return common.ShowDiffMsg(output)
+		// oplog diffs don't support cycling since they use jj op show
+		return common.ShowDiffMsg{Output: string(output)}
 	}
 }
 
diff --git a/internal/ui/preview/preview.go b/internal/ui/preview/preview.go
index 5e7c9467aa..373673a531 100644
--- a/internal/ui/preview/preview.go
+++ b/internal/ui/preview/preview.go
@@ -186,6 +186,11 @@
 	return common.Debounce(debounceId, debounceDuration, func() tea.Msg {
 		var args []string
 		previewWidth := strconv.Itoa(m.view.Width)
+		diffTool := config.GetCurrentDiffTool(config.Current)
+		diffToolArg := ""
+		if diffTool != "" {
+			diffToolArg = "--config=ui.diff-formatter=" + diffTool
+		}
 		switch sel := item.(type) {
 		case common.SelectedFile:
 			args = jj.TemplatedArgs(config.Current.Preview.FileCommand, map[string]string{
@@ -194,6 +199,7 @@
 				jj.CommitIdPlaceholder:     sel.CommitId,
 				jj.FilePlaceholder:         sel.File,
 				jj.PreviewWidthPlaceholder: previewWidth,
+				jj.DiffToolPlaceholder:     diffToolArg,
 			})
 		case common.SelectedRevision:
 			args = jj.TemplatedArgs(config.Current.Preview.RevisionCommand, map[string]string{
@@ -201,22 +207,33 @@
 				jj.ChangeIdPlaceholder:     sel.ChangeId,
 				jj.CommitIdPlaceholder:     sel.CommitId,
 				jj.PreviewWidthPlaceholder: previewWidth,
+				jj.DiffToolPlaceholder:     diffToolArg,
 			})
 		case common.SelectedCommit:
 			args = jj.TemplatedArgs(config.Current.Preview.EvologCommand, map[string]string{
 				jj.RevsetPlaceholder:       m.context.CurrentRevset,
 				jj.CommitIdPlaceholder:     sel.CommitId,
 				jj.PreviewWidthPlaceholder: previewWidth,
+				jj.DiffToolPlaceholder:     diffToolArg,
 			})
 		case common.SelectedOperation:
 			args = jj.TemplatedArgs(config.Current.Preview.OplogCommand, map[string]string{
 				jj.RevsetPlaceholder:       m.context.CurrentRevset,
 				jj.OperationIdPlaceholder:  sel.OperationId,
 				jj.PreviewWidthPlaceholder: previewWidth,
+				jj.DiffToolPlaceholder:     diffToolArg,
 			})
 		}
 
-		output, _ := m.context.RunCommandImmediate(args)
+		// Filter out empty args (e.g., when $diff_tool is not set)
+		filteredArgs := args[:0]
+		for _, arg := range args {
+			if arg != "" {
+				filteredArgs = append(filteredArgs, arg)
+			}
+		}
+
+		output, _ := m.context.RunCommandImmediate(filteredArgs)
 		return updatePreviewContentMsg{
 			Content: string(output),
 		}
diff --git a/internal/ui/revisions/revisions.go b/internal/ui/revisions/revisions.go
index a5ea9ff3af..d937e1ff27 100644
--- a/internal/ui/revisions/revisions.go
+++ b/internal/ui/revisions/revisions.go
@@ -445,6 +445,14 @@
 				return m.handleIntent(intents.StartDuplicate{})
 			case key.Matches(msg, m.keymap.SetParents):
 				return m.handleIntent(intents.SetParents{})
+			case key.Matches(msg, m.keymap.CycleDiffEditor):
+				editor := config.Current.CycleDiffEditor()
+				return tea.Batch(
+					func() tea.Msg {
+						return intents.AddMessage{Text: fmt.Sprintf("Diff tool: %s", editor)}
+					},
+					common.SelectionChanged(m.context.SelectedItem),
+				)
 			}
 		}
 	}
@@ -859,7 +867,10 @@
 	changeId := commit.GetChangeId()
 	return func() tea.Msg {
 		output, _ := m.context.RunCommandImmediate(jj.Diff(changeId, ""))
-		return common.ShowDiffMsg(output)
+		return common.ShowDiffMsg{
+			Output:   string(output),
+			Revision: changeId,
+		}
 	}
 }
 
@@ -871,7 +882,7 @@
 	if commit == nil {
 		return nil
 	}
-	return m.context.RunInteractiveCommand(jj.Split(commit.GetChangeId(), intent.Files, intent.IsParallel), common.Refresh)
+	return m.context.RunInteractiveCommand(jj.Split(commit.GetChangeId(), intent.Files, intent.IsParallel, config.GetCurrentDiffEditor(config.Current)), common.Refresh)
 }
 
 func (m *Model) updateSelection() tea.Cmd {
diff --git a/internal/ui/ui.go b/internal/ui/ui.go
index a24da12dab..1bdc09b11d 100644
--- a/internal/ui/ui.go
+++ b/internal/ui/ui.go
@@ -295,7 +295,15 @@
 		}
 		return nil
 	case common.ShowDiffMsg:
-		m.diff = diff.New(string(msg))
+		var source *diff.DiffSource
+		if msg.Revision != "" {
+			source = &diff.DiffSource{
+				Revision: msg.Revision,
+				FileName: msg.FileName,
+				Context:  m.context,
+			}
+		}
+		m.diff = diff.New(msg.Output, source)
 		return m.diff.Init()
 	case common.UpdateRevisionsSuccessMsg:
 		m.state = common.Ready
@@ -461,6 +469,7 @@
 
 	if m.diff != nil {
 		m.renderDiffLayout(box)
+		m.flash.ViewRect(m.displayContext, box)
 		m.displayContext.Render(screenBuf)
 		content := cellbuf.Render(screenBuf)
 		return strings.ReplaceAll(content, "\r", "")
